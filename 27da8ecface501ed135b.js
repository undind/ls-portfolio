(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{362:function(e,t){},429:function(e,t,a){},457:function(e,t,a){"use strict";var r=a(429);a.n(r).a},478:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-reviews"},[a("div",{staticClass:"my-reviews__header"},[a("div",{staticClass:"my-reviews__title"},[e._v(e._s(e.title))])]),a("form",{staticClass:"my-reviews__form",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("div",{staticClass:"my-reviews__edit"},[a("avatar-upload",{attrs:{"error-message":e.validation.firstError("reviewData.photo")},model:{value:e.reviewData.photo,callback:function(t){e.$set(e.reviewData,"photo",t)},expression:"reviewData.photo"}})],1),a("div",{staticClass:"my-reviews__content"},[a("div",{staticClass:"my-reviews__row"},[a("simple-input",{staticClass:"my-reviews__block",attrs:{label:"Имя автора","error-message":e.validation.firstError("reviewData.author")},model:{value:e.reviewData.author,callback:function(t){e.$set(e.reviewData,"author",t)},expression:"reviewData.author"}}),a("simple-input",{staticClass:"my-reviews__block",attrs:{label:"Титул автора","error-message":e.validation.firstError("reviewData.occ")},model:{value:e.reviewData.occ,callback:function(t){e.$set(e.reviewData,"occ",t)},expression:"reviewData.occ"}})],1),a("div",{staticClass:"my-works__row"},[a("simple-textarea",{attrs:{label:"Отзыв","error-message":e.validation.firstError("reviewData.text")},model:{value:e.reviewData.text,callback:function(t){e.$set(e.reviewData,"text",t)},expression:"reviewData.text"}})],1),a("div",{staticClass:"my-reviews__content-buttons"},[a("button",{staticClass:"app-button__reset",attrs:{disabled:e.isSending},on:{click:function(t){return t.preventDefault(),e.$emit("reset")}}},[e._v("Отмена")]),a("button",{staticClass:"app-button",attrs:{type:"submit",disabled:e.isSending}},[e._v("Сохранить")])])])])])};r._withStripped=!0;var i=a(140);function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){o(e,t,a[t])})}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s={author:"",occ:"",text:"",photo:null},u={components:{AvatarUpload:function(){return a.e(14).then(a.bind(null,487))},SimpleInput:function(){return a.e(2).then(a.bind(null,492))},SimpleTextarea:function(){return a.e(9).then(a.bind(null,490))}},props:{currentReview:{type:Object,default:null},isSending:{type:Boolean,default:!1}},watch:{currentReview:function(){this.updateReviewData(),this.validation.reset()}},mixins:[a.n(i).a.mixin],data:function(){return{reviewData:s}},validators:{"reviewData.photo":function(e){return i.Validator.value(e).required("Загрузите фото")},"reviewData.author":function(e){return i.Validator.value(e).required("Введите автора")},"reviewData.occ":function(e){return i.Validator.value(e).required("Введите титул")},"reviewData.text":function(e){return i.Validator.value(e).required("Введите текст отзыва")}},computed:{title:function(){return this.currentReview?"Редактирование отзыва":"Новый отзыв"}},methods:{updateReviewData:function(){this.reviewData=this.currentReview?n({},this.currentReview):n({},s)},onSubmit:function(){var e=this;this.$validate().then(function(t){if(t){var a=e.currentReview?"update":"create";e.$emit(a,e.reviewData),e.validation.reset()}})}},created:function(){this.updateReviewData()}},c=(a(457),a(31)),l=Object(c.a)(u,r,[],!1,null,"2d40a7ff",null);l.options.__file="src/admin/components/ReviewsForm.vue";t.default=l.exports}}]);